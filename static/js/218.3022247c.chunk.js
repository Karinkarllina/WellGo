"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[218],{218:function(e,a,t){t.r(a),t.d(a,{default:function(){return O}});var n=t(87),r=t(433),s=t(439),c=t(791),l=t(861),i=t(687),o=t.n(i),u=t(243),d="https://65046379c8869921ae24f832.mockapi.io/Cars";function p(){return p=(0,l.Z)(o().mark((function e(a){var t,n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.next=4,u.Z.get("".concat(d,"?page=").concat(a,"&limit=").concat(t));case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),p.apply(this,arguments)}var m=function(e){return p.apply(this,arguments)},h="LoadMore_buttonLm__6fQ+Y",f=t(184),x=function(e){var a=e.onClick;return(0,f.jsx)("button",{className:h,type:"button",onClick:a,children:"Load more"})},j=t(984),v=t(264),_="Catalog_allCarsCardList__StIGF",g="Catalog_carsCardItem__q9KyU",C="Catalog_imagecarsCardItem__6b3es",b="Catalog_make__Ql1G7",N="Catalog_model__rGnlj",k="Catalog_carsCardInfoTopWrap__J6ntt",y="Catalog_carsCardInfoWrap__heL4D",S="Catalog_carsCardInfoBottomWrap__O5lnJ",Z="Catalog_year__R+YSc",I="Catalog_price__7INE2",w="Catalog_carInfoText__YFffs",F="Catalog_borderInfoCard__KyqTZ",L=function(e){var a=e.allCarCards,t=(0,c.useState)(!1),n=(0,s.Z)(t,2),r=n[0],l=n[1],i=(0,c.useState)(!1),o=(0,s.Z)(i,2),u=o[0],d=o[1],p=(0,c.useState)(""),m=(0,s.Z)(p,2),h=m[0],x=m[1],v=(0,c.useState)(""),_=(0,s.Z)(v,2),g=_[0],C=_[1],b=(0,c.useState)(""),N=(0,s.Z)(b,2),k=N[0],y=N[1],S=(0,c.useState)(""),Z=(0,s.Z)(S,2),I=Z[0],w=Z[1],F=a.map((function(e){return e.make})).filter((function(e,a,t){return t.indexOf(e)===a})),L=function(){for(var e=[],a=10;a<=500;a+=10)e.push(a);return e}();return(0,f.jsx)("div",{children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={make:h,rentalPrice:g,mileageFrom:k,mileageTo:I};localStorage.setItem("filter",JSON.stringify(a))},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"brand",children:"Car brand"}),(0,f.jsx)("input",{type:"text",name:"brand",id:"brand",placeholder:"Enter the text",value:h,onChange:function(e){return x(e.target.value)}}),(0,f.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return l(!r)}}),r&&(0,f.jsx)("ul",{children:F.map((function(e){var a=(0,j.x0)();return(0,f.jsx)("li",{onClick:function(){return a="".concat(e),l(!1),void x(a);var a},children:e},a)}))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"price",children:"Price/ 1 hour"}),(0,f.jsx)("input",{type:"text",name:"price",id:"price",placeholder:"To $",value:g,onChange:function(e){return C(e.target.value)}}),(0,f.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return d(!u)}}),u&&(0,f.jsx)("ul",{children:L.map((function(e){var a=(0,j.x0)();return(0,f.jsx)("li",{onClick:function(){return a="".concat(e),d(!1),void C(a);var a},children:e},a)}))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"price",children:"\u0421ar mileage / km"}),(0,f.jsx)("input",{type:"number",id:"mileage",name:"mileageFrom",placeholder:"From",value:k,onChange:function(e){var a=e.target.value;y(a)}}),(0,f.jsx)("input",{type:"number",id:"mileage",name:"mileageTo",placeholder:"To",value:I,onChange:function(e){var a=e.target.value;w(a)}})]}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})})};function T(){var e=(0,c.useState)([]),a=(0,s.Z)(e,2),t=a[0],n=a[1],l=(0,c.useState)([]),i=(0,s.Z)(l,2),o=i[0],u=i[1],d=(0,c.useState)(1),p=(0,s.Z)(d,2),h=p[0],T=p[1],O=(0,c.useState)([]),E=(0,s.Z)(O,2),P=E[0],G=E[1];(0,c.useEffect)((function(){m().then((function(e){G(e.data)})).catch((function(e){v.Notify.info("Ooops! Not found")}))}),[]),(0,c.useEffect)((function(){m(h,8).then((function(e){u(e.data),n((function(a){return[].concat((0,r.Z)(a),(0,r.Z)(e.data))}))})).catch((function(e){console.log(e),v.Notify.info("Ooops! Not found")}))}),[h]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(L,{allCarCards:P}),(0,f.jsx)("ul",{className:_,children:t.map((function(e){var a=e.id,t=e.address,n=e.rentalCompany,r=e.year,s=e.type,c=e.model,l=e.img,i=e.make,o=e.rentalPrice,u=e.accessories,d=e.photoLink,p=t.replace(/[,]/g,"").split(" ").splice(-2),m=(0,j.x0)();return(0,f.jsxs)("li",{className:g,children:[(0,f.jsx)("img",{src:"".concat(l||d),alt:c,className:C}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:k,children:[(0,f.jsxs)("p",{className:b,children:[i,(0,f.jsx)("span",{className:N,children:c}),","]}),(0,f.jsx)("p",{className:Z,children:r}),(0,f.jsx)("p",{className:I,children:o})]}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsxs)("p",{className:w,children:[p.splice(0)," ",(0,f.jsx)("span",{className:F})]}),(0,f.jsxs)("p",{className:w,children:[p.splice(1)," "]}),(0,f.jsxs)("p",{className:w,children:[n," "]})]}),(0,f.jsxs)("div",{className:S,children:[(0,f.jsxs)("p",{className:w,children:[s,(0,f.jsx)("span",{className:F})]}),(0,f.jsxs)("p",{className:w,children:[a,(0,f.jsx)("span",{className:F})]}),(0,f.jsx)("p",{className:w,children:u[0]})]})]})]},m)}))}),o.length>=8&&(0,f.jsx)(x,{onClick:function(){T((function(e){return e+1}))}})]})}var O=function(){return(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:"Hello! Its CatalogPage!"}),(0,f.jsx)("p",{children:(0,f.jsx)(n.OL,{to:"/favorite",children:"Link FavoritePage"})}),(0,f.jsx)(T,{})]})}}}]);
//# sourceMappingURL=218.3022247c.chunk.js.map