"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[218],{218:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(87),a=n(433),i=n(439),c=n(791),l=n(861),o=n(687),u=n.n(o),s=n(243),d="https://65046379c8869921ae24f832.mockapi.io/Cars";function p(){return p=(0,l.Z)(u().mark((function e(t){var n,r,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.prev=1,e.next=4,s.Z.get("".concat(d,"?page=").concat(t,"&limit=").concat(n));case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),p.apply(this,arguments)}var h=function(e){return p.apply(this,arguments)},f="LoadMore_buttonLm__6fQ+Y",m=n(184),x=function(e){var t=e.onClick;return(0,m.jsx)("button",{className:f,type:"button",onClick:t,children:"Load more"})},j=n(984),v=n(264),g="Catalog_imageGallery__10aCg",C="Catalog_imageGalleryItem__3xc4K",b="Catalog_imageGalleryItemImg__cWcJM",k=function(e){var t=e.allCarCards,n=(0,c.useState)(!1),r=(0,i.Z)(n,2),a=r[0],l=r[1],o=(0,c.useState)(!1),u=(0,i.Z)(o,2),s=u[0],d=u[1],p=(0,c.useState)(""),h=(0,i.Z)(p,2),f=h[0],x=h[1],v=(0,c.useState)(""),g=(0,i.Z)(v,2),C=g[0],b=g[1],k=(0,c.useState)(""),y=(0,i.Z)(k,2),_=y[0],S=y[1],Z=(0,c.useState)(""),w=(0,i.Z)(Z,2),N=w[0],F=w[1],L=t.map((function(e){return e.make})).filter((function(e,t,n){return n.indexOf(e)===t})),I=function(){for(var e=[],t=10;t<=500;t+=10)e.push(t);return e}();return(0,m.jsx)("div",{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={make:f,rentalPrice:C,mileageFrom:_,mileageTo:N};localStorage.setItem("filter",JSON.stringify(t))},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"brand",children:"Car brand"}),(0,m.jsx)("input",{type:"text",name:"brand",id:"brand",placeholder:"Enter the text",value:f,onChange:function(e){return x(e.target.value)}}),(0,m.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return l(!a)}}),a&&(0,m.jsx)("ul",{children:L.map((function(e){var t=(0,j.x0)();return(0,m.jsx)("li",{onClick:function(){return t="".concat(e),l(!1),void x(t);var t},children:e},t)}))})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"price",children:"Price/ 1 hour"}),(0,m.jsx)("input",{type:"text",name:"price",id:"price",placeholder:"To $",value:C,onChange:function(e){return b(e.target.value)}}),(0,m.jsx)("button",{type:"button","aria-label":"arrow",onClick:function(){return d(!s)}}),s&&(0,m.jsx)("ul",{children:I.map((function(e){var t=(0,j.x0)();return(0,m.jsx)("li",{onClick:function(){return t="".concat(e),d(!1),void b(t);var t},children:e},t)}))})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"price",children:"\u0421ar mileage / km"}),(0,m.jsx)("input",{type:"number",id:"mileage",name:"mileageFrom",placeholder:"From",value:_,onChange:function(e){var t=e.target.value;S(t)}}),(0,m.jsx)("input",{type:"number",id:"mileage",name:"mileageTo",placeholder:"To",value:N,onChange:function(e){var t=e.target.value;F(t)}})]}),(0,m.jsx)("button",{type:"submit",children:"Search"})]})})};function y(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),n=t[0],r=t[1],l=(0,c.useState)([]),o=(0,i.Z)(l,2),u=o[0],s=o[1],d=(0,c.useState)(1),p=(0,i.Z)(d,2),f=p[0],y=p[1],_=(0,c.useState)([]),S=(0,i.Z)(_,2),Z=S[0],w=S[1];(0,c.useEffect)((function(){h().then((function(e){w(e.data)})).catch((function(e){v.Notify.info("Ooops! Not found")}))}),[]),(0,c.useEffect)((function(){h(f,8).then((function(e){s(e.data),r((function(t){return[].concat((0,a.Z)(t),(0,a.Z)(e.data))}))})).catch((function(e){console.log(e),v.Notify.info("Ooops! Not found")}))}),[f]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(k,{allCarCards:Z}),(0,m.jsx)("ul",{className:g,children:n.map((function(e){var t=e.id,n=e.address,r=e.rentalCompany,a=e.year,i=e.type,c=e.model,l=e.img,o=e.make,u=e.rentalPrice,s=e.accessories,d=e.photoLink,p=n.replace(/[,]/g,"").split(" ").splice(-2),h=(0,j.x0)();return(0,m.jsxs)("li",{className:C,children:[(0,m.jsx)("img",{className:b,src:"".concat(l||d),alt:c}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:o}),(0,m.jsx)("p",{children:c}),(0,m.jsx)("p",{children:a}),(0,m.jsx)("p",{children:u}),(0,m.jsx)("p",{children:p.splice(0)}),(0,m.jsx)("p",{children:p.splice(1)}),(0,m.jsx)("p",{children:r}),(0,m.jsx)("p",{children:i}),(0,m.jsx)("p",{children:t}),(0,m.jsx)("p",{children:s[0]})]})]},h)}))}),u.length>=8&&(0,m.jsx)(x,{onClick:function(){y((function(e){return e+1}))}})]})}var _=function(){return(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"Hello! Its CatalogPage!"}),(0,m.jsx)("p",{children:(0,m.jsx)(r.OL,{to:"/favorite",children:"Link FavoritePage"})}),(0,m.jsx)(y,{})]})}}}]);
//# sourceMappingURL=218.4173f625.chunk.js.map