{"version":3,"file":"static/js/857.d1e7cf1c.chunk.js","mappings":"8PAEMA,EAAW,mDAGFC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA0BC,GAA1B,4FAAgCC,EAAhC,+BAAsC,GAAtC,kBAEuBC,EAAAA,EAAAA,IAAA,UAAaJ,EAAb,iBAA8BE,EAA9B,kBAA4CC,IAFnE,cAEUE,EAFV,yBAGgBA,GAHhB,sCAKe,IAAIC,MAAM,KAAMC,SAL/B,yFASA,MAZA,SAGeN,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,ECJf,EAA2B,2B,SCW3B,EAViB,SAAC,GAAD,IAAGO,EAAH,EAAGA,QAAH,OACd,mBACGC,UAAWC,EACXC,KAAK,SACLH,QAASA,EAHZ,SAIC,aALa,E,kBCDjB,EAA+D,2BAA/D,EAA6G,+BAA7G,EAAkK,kCCsJlK,EAnJe,SAAC,GAAgB,IAAfI,EAAc,EAAdA,SAEb,GAAwCC,EAAAA,EAAAA,WAAS,GAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCF,EAAAA,EAAAA,WAAS,GAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAgDJ,EAAAA,EAAAA,UAAS,IAAzD,eAAOK,EAAP,KAAyBC,EAAzB,KACA,GAAgDN,EAAAA,EAAAA,UAAS,IAAzD,eAAOO,EAAP,KAAyBC,EAAzB,KACA,GAAgDR,EAAAA,EAAAA,UAAS,IAAzD,eAAOS,EAAP,KAAyBC,EAAzB,KACA,GAA4CV,EAAAA,EAAAA,UAAS,IAArD,eAAOW,EAAP,KAAuBC,EAAvB,KAgBMC,EAAcd,EAASe,KAAI,SAAAC,GAAI,OAAIA,EAAKC,IAAT,IAChCC,QAAO,SAACD,EAAME,EAAOC,GAAd,OAAwBA,EAC/BC,QAAQJ,KAAUE,CADX,IAWNG,EAPe,WAEjB,IADJ,IAAMC,EAAO,GACAC,EAAI,GAAIA,GAAK,IAAKA,GAAK,GAChCD,EAAKE,KAAKD,GAEV,OAAOD,CACV,CACgBG,GAuBf,OACA,0BACE,kBAAMC,SAlDe,SAACC,GACtBA,EAAMC,iBAEN,IAAMX,EAAS,CACXD,KAAMX,EACNwB,YAAatB,EACbuB,YAAarB,EACbsB,UAAWpB,GAGfqB,aAAaC,QAAQ,SAAUC,KAAKC,UAAUlB,GACjD,EAuCG,WACE,4BACE,kBAAOmB,QAAQ,QAAf,SAAuB,eACvB,kBACItC,KAAK,OACLuC,KAAK,QACLC,GAAG,QACHC,YAAY,iBACZC,MAAOnC,EACPoC,SAAU,SAACd,GAAD,OAAWrB,EAAoBqB,EAAMe,OAAOF,MAA5C,KAEd,mBACE1C,KAAK,SACL,aAAW,QACXH,QAAS,kBAAMO,GAAiBD,EAAvB,IAGNA,IACS,wBACKY,EAAYC,KAAI,SAACE,GACd,IAAM2B,GAAQC,EAAAA,EAAAA,MACV,OAAO,eAAgBjD,QAAS,kBA3C1CkD,EA2CiE,GAAD,OAAI7B,GA1C1Fd,GAAgB,QAChBI,EAAoBuC,GAFC,IAACA,CA2C0C,EAAzB,SACN7B,GADe2B,EAGvB,UAMvB,4BACE,kBAAOP,QAAQ,QAAf,SAAuB,mBACvB,kBACEtC,KAAK,OACLuC,KAAK,QACLC,GAAG,QACHC,YAAY,OACZC,MAAOjC,EACPkC,SAAU,SAACd,GAAD,OAAWnB,EAAoBmB,EAAMe,OAAOF,MAA5C,KAEV,mBACI1C,KAAK,SACL,aAAW,QACXH,QAAS,kBAAMS,GAAgBD,EAAtB,IAGRA,IACS,wBACKkB,EAASP,KAAI,SAACgC,GACX,IAAMH,GAAQC,EAAAA,EAAAA,MACV,OAAO,eAAgBjD,QAAS,kBAnEtCkD,EAmE6D,GAAD,OAAIC,GAlExF1C,GAAe,QACfI,EAAoBqC,GAFG,IAACA,CAmEsC,EAAzB,SACNC,GADeH,EAGvB,UAKvB,4BACE,kBAAOP,QAAQ,QAAf,SAAuB,2BACvB,kBACEtC,KAAK,SACLwC,GAAG,UACHD,KAAK,cACLE,YAAY,OACZC,MAAO/B,EACPgC,SA9E4B,SAACd,GACjC,IAAMa,EAAQb,EAAMe,OAAOF,MAC3B9B,EAAoB8B,EACvB,KA6EK,kBACE1C,KAAK,SACLwC,GAAG,UACHD,KAAK,YACLE,YAAY,KACZC,MAAO7B,EACP8B,SAjF0B,SAACd,GAC/B,IAAMa,EAAQb,EAAMe,OAAOF,MAC3B5B,EAAkB4B,EACtB,QAkFI,mBAAQ1C,KAAK,SAAb,SAAsB,eAK7B,ECzIc,SAASiD,IAErB,OAAsC/C,EAAAA,EAAAA,UAAS,IAA/C,eAAOgD,EAAP,KAAoBC,EAApB,KACA,GAAsCjD,EAAAA,EAAAA,UAAS,IAA/C,eAAOkD,EAAP,KAAoBC,EAApB,KACA,GAAwBnD,EAAAA,EAAAA,UAAS,GAAjC,eAAOX,EAAP,KAAa+D,EAAb,KACA,GAAgCpD,EAAAA,EAAAA,UAAS,IAAzC,eAAOD,EAAP,KAAiBsD,EAAjB,MAGCC,EAAAA,EAAAA,YAAU,WACNlE,IACKmE,MAAK,SAAAC,GACFH,EAAYG,EAAKhE,KACpB,IACAiE,OAAM,SAAAC,GACHC,EAAAA,OAAAA,KAAY,qBAAqBC,cACpC,GACR,GAAE,IACEC,QAAQC,IAAI/D,IAGjBuD,EAAAA,EAAAA,YAAU,WACNlE,EAAUC,EAAM,GACXkE,MAAK,SAAAQ,GACFZ,EAAeY,EAAOvE,MACtByD,GAAe,SAAAe,GAAI,wBAAQA,IAAR,OAAiBD,EAAOvE,MAAxB,GAC1B,IACIiE,OAAM,SAAAC,GACHG,QAAQC,IAAIJ,GACZC,EAAAA,OAAAA,KAAY,qBAAqBC,cACpC,GACR,GAAE,CAACvE,IAeL,OACI,4BACI,SAAC,EAAD,CAAQU,SAAUA,KACpB,eAAIH,UAAWC,EAAf,SACImD,EAAYlC,KAAI,YAC+C,IAD5CwB,EAC2C,EAD3CA,GAAI2B,EACuC,EADvCA,QAASC,EAC8B,EAD9BA,cAAeC,EACe,EADfA,KAAMrE,EACS,EADTA,KACnDsE,EAA4D,EAA5DA,MAAOC,EAAqD,EAArDA,IAAKrD,EAAgD,EAAhDA,KAAMa,EAA0C,EAA1CA,YAAayC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UACtCC,EAAeP,EAAQQ,QAAQ,OAAQ,IAAIC,MAAM,KAAKC,QAAQ,GAC9DC,GAAShC,EAAAA,EAAAA,MACf,OAAO,gBAEJhD,UAAWC,EAFP,WAIH,gBACED,UAAWC,EACXgF,IAAQ,UAAHR,GAAoBE,GAAaO,IAAKV,KAE9C,0BAAOpD,KACP,0BAAOoD,KACP,0BAAOD,KACP,0BAAOtC,KACP,0BAAO2C,EAAaG,OAAO,MAC3B,0BAAOH,EAAaG,OAAO,MAC3B,0BAAOT,KACP,0BAAOpE,KACP,0BAAOwC,KACP,0BAAOgC,EAAY,OAhBdM,EAmBV,MAGH1B,EAAY6B,QAAU,IAAK,SAAC,EAAD,CAAUpF,QA1ClB,WACrByD,GAAQ,SAAAY,GAAI,OAAKA,EAAO,CAAZ,GAChB,MA2CH,CCrFD,IAaA,EAboB,WAEhB,OACI,4BACI,uBAAG,6BACH,wBACI,SAAC,KAAD,CAASgB,GAAG,YAAZ,SAAwB,yBAE5B,SAACjC,EAAD,MAGX,C","sources":["Fetch/FetchCars.js","webpack://react-homework-template/./src/components/LoadMore/LoadMore.module.css?b3ea","components/LoadMore/LoadMore.jsx","webpack://react-homework-template/./src/components/Catalog/Home.module.css?2cd5","components/Filter/Filter.jsx","components/Catalog/Catalog.jsx","pages/CatalogPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://65046379c8869921ae24f832.mockapi.io/Cars';\n\n\nasync function fetchCars (page, limit='') {\n   try {\n    const data = await axios.get(`${BASE_URL}?page=${page}&limit=${limit}`)\n         return data;\n   }  catch(error) {\n         throw new Error(error.message);\n      };\n};\n \nexport default fetchCars;","// extracted by mini-css-extract-plugin\nexport default {\"buttonLm\":\"LoadMore_buttonLm__6fQ+Y\"};","import css from './LoadMore.module.css';\n\nconst LoadMore = ({ onClick }) => (\n   <button         \n      className={css.buttonLm}      \n      type=\"button\"\n      onClick={onClick}\n   >\n      Load more         \n   </button>\n)\n\nexport default LoadMore;","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Home_wrapper__oXIcG\",\"imageGallery\":\"Home_imageGallery__aZA2Y\",\"imageGalleryItem\":\"Home_imageGalleryItem__Vyelz\",\"imageGalleryItemImg\":\"Home_imageGalleryItemImg__FJHTT\"};","// import css from './Filter.module.css';\nimport { useState } from 'react';\nimport { nanoid } from 'nanoid';\n\nconst Filter = ({allItems}) => {\n\n    const [isOpenBrands, setIsOpenBrands] = useState(false);  \n    const [isOpenPrice, setIsOpenPrice] = useState(false);  \n    const [selectedCarBrand, setSelectedCarBrand] = useState('');\n    const [selectedCarPrice, setSelectedCarPrice] = useState('');\n    const [mileageValueFrom, setMileageValueFrom] = useState('');\n    const [mileageValueTo, setMileageValueTo] = useState('');\n\n\n    const handleFormSubmit = (event) => {\n        event.preventDefault();\n        \n        const filter = {\n            make: selectedCarBrand,\n            rentalPrice: selectedCarPrice,\n            mileageFrom: mileageValueFrom,\n            mileageTo: mileageValueTo,\n\n        }\n        localStorage.setItem('filter', JSON.stringify(filter));\n    }\n    \n    const filterMakes = allItems.map(item => item.make)\n        .filter((make, index, array) => array\n        .indexOf(make) === index\n    );\n    \n    const makePriceArr = () => {\n    const list = [];\n        for (let i = 10; i <= 500; i += 10) {\n        list.push(i);\n    };\n        return list;\n    };\n    const priceArr = makePriceArr();\n    \n\n  const handleBrandСlick = (option) => {\n      setIsOpenBrands(false);\n      setSelectedCarBrand(option)\n    };\n    \n      const handlePriceСlick = (option) => {\n        setIsOpenPrice(false);\n        setSelectedCarPrice(option);\n  };\n\n    const hadleMileageValueFromChange = (event) => {\n        const value = event.target.value;\n        setMileageValueFrom(value);\n    }\n    \n    const hadleMileageValueToChange = (event) => {\n        const value = event.target.value;\n        setMileageValueTo(value);\n   }\n    \n      return (\n      <div >\n        <form onSubmit={handleFormSubmit}>\n          <div>\n            <label htmlFor=\"brand\">Car brand</label>\n            <input\n                type=\"text\"\n                name='brand'\n                id='brand'\n                placeholder=\"Enter the text\"    \n                value={selectedCarBrand}\n                onChange={(event) => setSelectedCarBrand(event.target.value)}            \n            />\n            <button\n              type=\"button\"\n              aria-label=\"arrow\"\n              onClick={() => setIsOpenBrands(!isOpenBrands)}\n            >\n            </button>\n                {isOpenBrands && (\n                          <ul>\n                              {filterMakes.map((make) => {\n                                  const optId = nanoid()\n                                      return <li key={optId} onClick={() => handleBrandСlick(`${make}`)}>\n                                      {make}\n                                  </li>\n                              })}\n    \n                    </ul>           \n                )}\n        </div>\n\n        <div>\n          <label htmlFor=\"price\">Price/ 1 hour</label>\n          <input\n            type=\"text\"\n            name='price'\n            id='price'\n            placeholder=\"To $\"\n            value={selectedCarPrice}\n            onChange={(event) => setSelectedCarPrice(event.target.value)} \n          />\n            <button\n                type=\"button\"\n                aria-label=\"arrow\"\n                onClick={() => setIsOpenPrice(!isOpenPrice)}\n            >\n            </button>\n                {isOpenPrice && (\n                          <ul>\n                              {priceArr.map((price) => {\n                                  const optId = nanoid()\n                                      return <li key={optId} onClick={() => handlePriceСlick(`${price}`)}>\n                                      {price}\n                                  </li>\n                              })}\n                    </ul>           \n                )}\n          </div>\n\n        <div>\n          <label htmlFor=\"price\">Сar mileage / km</label>\n          <input \n            type=\"number\" \n            id='mileage'\n            name=\"mileageFrom\" \n            placeholder=\"From\"\n            value={mileageValueFrom}\n            onChange={hadleMileageValueFromChange} \n          />\n          <input \n            type=\"number\" \n            id='mileage'\n            name=\"mileageTo\" \n            placeholder=\"To\"\n            value={mileageValueTo}\n            onChange={hadleMileageValueToChange} \n          /> \n        </div>    \n           \n        <button type=\"submit\">Search</button>\n        </form>\n          </div>\n          \n  );\n}\n\n\n\nexport default Filter;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const Filter = () => {\n\n//     const { register, handleSubmit, control } = useForm({\n//     mode: 'onChange',\n//   });\n\n\n//     const onSubmit = (event) => {\n    \n//         console.log(event.currentTarget.brand)\n\n//     } \n    \n\n    \n//     return (\n//         <>\n//             <form\n//             onSubmit={handleSubmit(onSubmit)}>\n//             <div>\n//                 <label htmlFor=\"brand\" className=\"select-label\">\n//                     Car brand\n//                 </label>\n//                 <Controller\n//                     name=\"brand\"\n//                     control={control}\n//                     rules={{ required: true, message: 'Brand is required' }}\n//                     render={ () => (\n//                         <>\n//                             <select>\n//                                 <option value=\"\" disabled>\n//                                 Enter the text\n//                                 </option>\n//                                 <option value={1}>\n//                                     {1}\n//                                 </option>\n//                                 <option value={2}>\n//                                     {2}\n//                                 </option>\n//                             </select>\n//                         </>\n//                     )}\n//                 />\n//             </div>\n//             <div>\n//                 <label htmlFor=\"price\">\n//                     Price/ 1 hour\n//                 </label>\n//                 <Controller\n//                     name=\"price\"\n//                     control={control}\n//                     rules={{ \n//                         required: true,\n//                             min: {\n//                             value: 0,\n//                             message: 'Change price'\n//                         }\n//                     }}\n//                     render={ () => (\n//                         <>\n//                             <select>\n//                                 <option value=\"\" disabled>\n//                                 To $\n//                                 </option>\n//                                 <option value={1}>\n//                                     {1}\n//                                 </option>\n//                                 <option value={2}>\n//                                     {2}\n//                                 </option>\n//                             </select>\n//                         </>\n//                     )}\n                  \n                 \n//                 />\n//             </div>\n//             <div>\n//                 <label htmlFor=\"mileage\">\n//                     Car mileage / km\n//                 </label>\n//                 <input\n//                   type=\"number\"\n//                   {...register('from', {\n//                     required: 'This field is required',\n//                     min: {\n//                       value: 0,\n//                       message: 'Change mileage'\n//                     }\n//                   })}\n//                 />\n//                 <input\n//                     type=\"number\"\n//                     {...register('from', {\n//                     required: 'This field is required',\n//                     min: {\n//                       value: 0,\n//                       message: 'Change mileage'\n//                     }\n//                   })}\n//                 />\n//             </div> \n//              <button type=\"submit\">Search</button>\n//         </form>\n\n\n//  </>\n//     )\n   \n// }\n\n// export default Filter;\n","import { React, useEffect, useState } from \"react\";\nimport fetchCars from \"../../Fetch/FetchCars.js\";\nimport LoadMore from '../LoadMore/LoadMore.jsx';\nimport { nanoid } from 'nanoid'\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport css from './Home.module.css'\nimport Filter from \"components/Filter/Filter.jsx\";\n\n\n\nexport default function Catalog() {\n\n   const [itemsToShow, setItemsToShow] = useState([]);\n   const [itemsOnPage, setItemsOnPage] = useState([]);\n   const [page, setPage] = useState(1);\n   const [allItems, setAllItems] = useState([]);\n   \n    \n    useEffect(() => {\n        fetchCars()\n            .then(resp => {\n                setAllItems(resp.data);\n            })\n            .catch(error => {\n                Notify.info(\"404 page not found\".toUpperCase());\n            });\n    }, []);\n         console.log(allItems)\n\n\n    useEffect(() => { \n        fetchCars(page, 8)\n            .then(advert => {\n                setItemsOnPage(advert.data);\n                setItemsToShow(prev => [...prev, ...advert.data]);\n        })\n            .catch(error => {\n                console.log(error)\n                Notify.info(\"404 page not found\".toUpperCase());\n            });\n    }, [page]);\n\n\n\n    const hadleBtnLoadMore = () => {\n        setPage(prev => (prev + 1 ));\n   }\n// const filteredToPrice = allItems.filter(item => item.rentalPrice.substring(1) <= 50);//фильтр по цене ОТ\n   // const filtereByPrice = [...itemsToShow].sort((a, b) => a.rentalPrice.substring(1) - b.rentalPrice.substring(1));//сортировка от деш\n   // const filteredByMake = allItems.filter(item => item.make === 'Subaru');//фильтр по марке\n\n//    console.log(itemsToShow);\n   // console.log(page);\n\n\n   return (\n       <div>\n           <Filter allItems={allItems}/>\n         <ul className={css.imageGallery}>\n            {itemsToShow.map(({ id, address, rentalCompany, year, type,\n               model, img, make, rentalPrice, accessories, photoLink }) => {\n               const shortAddress = address.replace(/[,]/g, '').split(' ').splice(-2)\n               const Itemid = nanoid();\n               return <li\n                  key={Itemid}\n                  className={css.imageGalleryItem}\n               >\n                   <img\n                     className={css.imageGalleryItemImg}\n                     src={img ? `${img}` : `${photoLink}`} alt={model} />\n                  {/* <span>{address.split(' ').splice(-1)}</span> */}\n                  <span>{make}</span>\n                  <span>{model}</span>\n                  <span>{year}</span>\n                  <span>{rentalPrice}</span>\n                  <span>{shortAddress.splice(0)}</span>\n                  <span>{shortAddress.splice(1)}</span>\n                  <span>{rentalCompany}</span>\n                  <span>{type}</span>\n                  <span>{id}</span>\n                  <span>{accessories[0]}</span>\n\n                  </li> \n            })\n            }  \n         </ul>\n         {itemsOnPage.length >= 8 && <LoadMore onClick={hadleBtnLoadMore} />}\n     </div>\n  );\n}","import { NavLink } from 'react-router-dom';\nimport Catalog from 'components/Catalog/Catalog';\n\n\nconst CatalogPage = () => {\n\n    return (\n        <div>\n            <p>Hello! Its CatalogPage!</p>\n            <p>\n                <NavLink to=\"/favorite\">Link FavoritePage</NavLink>\n            </p>\n            <Catalog/>\n        </div>\n    )\n}\n\nexport default CatalogPage;"],"names":["BASE_URL","fetchCars","page","limit","axios","data","Error","message","onClick","className","css","type","allItems","useState","isOpenBrands","setIsOpenBrands","isOpenPrice","setIsOpenPrice","selectedCarBrand","setSelectedCarBrand","selectedCarPrice","setSelectedCarPrice","mileageValueFrom","setMileageValueFrom","mileageValueTo","setMileageValueTo","filterMakes","map","item","make","filter","index","array","indexOf","priceArr","list","i","push","makePriceArr","onSubmit","event","preventDefault","rentalPrice","mileageFrom","mileageTo","localStorage","setItem","JSON","stringify","htmlFor","name","id","placeholder","value","onChange","target","optId","nanoid","option","price","Catalog","itemsToShow","setItemsToShow","itemsOnPage","setItemsOnPage","setPage","setAllItems","useEffect","then","resp","catch","error","Notify","toUpperCase","console","log","advert","prev","address","rentalCompany","year","model","img","accessories","photoLink","shortAddress","replace","split","splice","Itemid","src","alt","length","to"],"sourceRoot":""}